(function(){var a,b,c;a=jQuery,b=function(){},c=function(a,b,c){var d;return d=""+a+"."+b+"."+c,function(a){return null==a?localStorage[d]:localStorage[d]=""+a}},this.imboxNotifications={onLoadHandler:function(a,d){b=c("notifications.imbox",a,d)},connect:function(){var c,d;return c=a.Deferred(),d={},webSockets.connect({protocol:"websocket-imbox-protocol",messageHandler:function(a){var c;c=JSON.parse(a),null==c.pong&&notifications.showNotification(""+c.postUserName+"@"+c.boxName,{options:{body:c.message,icon:c.iconId?"notifications/imbox/userIcon/"+c.postUserCd+"?"+c.iconId:void 0}}),b(c.messageId),console.log(this,arguments,c)},reconnect:{done:function(){"function"==typeof d.send&&d.send(JSON.stringify({messageId:b()||""})),console.log(this,arguments)}},keepalive:{message:function(a){var c;return c={ping:a},b()||(c.messageId=""),JSON.stringify(c)},interval:6e4}}).done(function(a){d=a,d.send(JSON.stringify({messageId:b()||""})),c.resolve(d),console.log(this,arguments)}),c.promise()}}}).call(this);
//# sourceMappingURL=notifications-imbox.min.js.map